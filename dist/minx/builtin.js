!function(o){var u=Object.prototype.toString,n={isNull:function(n){return null==n},isNotNull:function(n){return null!=n},idle:function(){},idleArray:function(){return[]},idleObject:function(){return{}},format:function(){var n=arguments,r=null,t=null;return n.length<2?n[0]:(r=(r=n[0]).toString?r.toString():r,t=n[1],a.each(t,function(n,t){null!=n&&(n=a.is(n,"object")?JSON.stringify(n):n.toString?n.toString():n,r=r.replace(new RegExp("\\{"+t+"\\}","gi"),n))}),r)},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=16*Math.random()|0;return("x"==n?t:3&t|8).toString(16)}).toUpperCase()},serializeJSON:function(t){return Object.keys(t).map(function(n){return encodeURIComponent(n)+"="+encodeURIComponent(t[n])}).join("&")},fix:function(n){for(var t=n||{},r=1,e=arguments.length;r<e;r++){var _=arguments[r];for(var i in _)_.hasOwnProperty(i)&&"function"!=typeof t[i]&&(t[i]=_[i])}return t},extend:function(n){for(var t=n||{},r=1,e=arguments.length;r<e;r++){var _=arguments[r];for(var i in _)_.hasOwnProperty(i)&&(t[i]=_[i])}return t},overwrite:function(n){for(var t=n||{},r=1,e=arguments.length;r<e;r++){var _=arguments[r];for(var i in _)_.hasOwnProperty(i)&&void 0===t[i]&&(t[i]=_[i])}return t},path:function(n,t,r){var e=n||{};if(t){var _,i=t.split("."),o=i.length,u=0;if(arguments.length<3)for(;e&&u<o;u++)_=i[u],e=e.__get__?e.__get__(_):e[_];else{for(o-=1;e&&u<o;u++)_=i[u],e=e.__get__?e.__get__(_):e[_]=e[_]||{};_=i[u],e&&(e.__set__?e.__set__(_,r):e[_]=r,e=r)}}return e},invoke:function(n,t,r){if(n&&t){var e,_,i=t.lastIndexOf(".");0<i?(e=o.path(n,t.substring(0,i)))&&(_=e[t.substring(i+1)]):_=(e=n)[t],_&&_.apply(e,r)}},deepEachObject:function(n,t,r){if(a.is(n,"object")){var e,_=null;for(var i in n)_=n[i],a.is(_,"object")?this.deepEachObject(_,t,r):null!=(e=t&&t.call(r,_,i,n))&&(n[i]=e)}return n},arrayValueToObject:function(n,t,r){if(a.is(n,"array")){for(var e,_=null,i={},o=0,u=n.length;o<u;o++)_=n[o],null!=(e=t&&t.call(r,_,o,n,i))&&(i[_]=e);n=i}return n}},a={toString:function(n){return n&&n.toString?n.toString():u.call(n)},each:function(n,t,r){if(n&&t)if(n.__each__)n.__each__(t,r);else{var e=n.length,_=null;if(0<e&&"[object Array]"===u.call(n)){for(var i=0;i<e;i++)if(!1===(_=t.call(r,n[i],i)))return!1}else for(var o in n)if(n.hasOwnProperty(o)){if(!1===(_=t.call(r,n[o],o)))return!1;if(-1===_)continue}}},clone:function(n){if(n){if(n.__clone__)return n.__clone__();if(o.is(n,"array"))return n.slice(0);var t={};for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);return t}return n},type:function(n){return n&&n.__type__?n.__type__:u.call(n).slice(8,-1).toLowerCase()},is:function(n,t){if(n&&n.__is__)return n.__is__(t);if("string"==typeof t)switch(t.toLowerCase()){case"plain":return n&&n.constructor===Object;default:return this.type(n)===t}else if("function"==typeof t)return n instanceof t},may:function(n,t){return!!n&&(n.__may__?n.__may__(t):n.hasOwnProperty("on"+t))},can:function(n,t){return!!n&&(n.__can__?n.__can__(t):"function"==typeof n[t])},has:function(n,t){return!!n&&(n.__has__?n.__has__(t):n.hasOwnProperty(t))},get:function(n,t){if(n)return n.__get__?n.__get__(t):n[t]},set:function(n,t,r){n&&(n.__set__?n.__set__(t,r):n[t]=r)},gets:function(n){if(n){if(n.__gets__)return n.__gets__();var t={};for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);return t}},sets:function(n,t){if(n&&t)if(n.__sets__)n.__sets__(t);else for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])}};n.extend(o,n),n.extend(o,a)}(zn);
!function(p){var c=Object.prototype.toString,o={isNull:function(n){return null==n},isNotNull:function(n){return null!=n},idle:function(){},idleArray:function(){return[]},idleObject:function(){return{}},format:function(){var n=arguments,e=null,t=null;return n.length<2?n[0]:(e=(e=n[0]).toString?e.toString():e,t=n[1],_.each(t,function(n,t){null!=n&&(n=_.is(n,"object")?JSON.stringify(n):n.toString?n.toString():n,e=e.replace(new RegExp("\\{"+t+"\\}","gi"),n))}),e)},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=16*Math.random()|0;return("x"==n?t:3&t|8).toString(16)}).toUpperCase()},fix:function(n){for(var t=n||{},e=1,r=arguments.length;e<r;e++){var i=arguments[e];for(var o in i)i.hasOwnProperty(o)&&"function"!=typeof t[o]&&(t[o]=i[o])}return t},extend:function(n){for(var t=n||{},e=1,r=arguments.length;e<r;e++){var i=arguments[e];for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])}return t},deepAssign:function(n,t){var e=null,r=null;switch(c.call(t)){case"[object Object]":for(var i in t)switch(e=n[i],r=t[i],c.call(r)){case"[object Object]":"[object Object]"==c.call(e)?n[i]=this.deepAssign(e,r):n[i]=r;break;case"[object Array]":"[object Array]"==c.call(e)?n[i]=n[i].concat(r):n[i]=r;break;case"[object Null]":case"[object Boolean]":case"[object Function]":case"[object Number]":case"[object String]":n[i]=r}break;case"[object Array]":t.unshift(n),o.deepAssigns.apply(this,t)}return n},callOnce:function(n){var t=!1;return function(){t||(t=!0,n.apply(this,arguments))}},deepAssigns:function(){for(var n=arguments[0],t=1,e=arguments.length;t<e;t++)o.deepAssign(n,arguments[t]);return n},convertArrayArgv:function(n,t){for(var e=[],r=p.extend({prefix:"--"},t).prefix,i={},o="",a=null,c={},_=!1,u=0,f=n.length;u<f;u++)if(-1!==(a=n[u]).indexOf(r))i[o=a.replace(r,"")]=!0,c[u+1]=o,_=_||!0;else if(_)if(c[u])i[c[u]]=a;else{for(var l=u-1;!c[l]&&0<l;)l-=1;if(c[l]){var s=i[c[l]];null!=s?"string"==typeof s?i[c[l]]=[s,a]:"object"==typeof s&&i[c[l]].push(a):i[c[l]]=a}}else e.push(a);return{env:e,argv:i}},overwrite:function(n){for(var t=n||{},e=1,r=arguments.length;e<r;e++){var i=arguments[e];for(var o in i)i.hasOwnProperty(o)&&void 0===t[o]&&(t[o]=i[o])}return t},path:function(n,t,e){var r=n||{};if(t){var i,o=t.split("."),a=o.length,c=0;if(arguments.length<3)for(;r&&c<a;c++)i=o[c],r=r.__get__?r.__get__(i):r[i];else{for(a-=1;r&&c<a;c++)i=o[c],r=r.__get__?r.__get__(i):r[i]=r[i]||{};i=o[c],r&&(r.__set__?r.__set__(i,e):r[i]=e,r=e)}}return r},invoke:function(n,t,e){if(n&&t){var r,i,o=t.lastIndexOf(".");0<o?(r=p.path(n,t.substring(0,o)))&&(i=r[t.substring(o+1)]):i=(r=n)[t],i&&i.apply(r,e)}},deepEachObject:function(n,t,e){if(_.is(n,"object")){var r,i=null;for(var o in n)i=n[o],_.is(i,"object")?this.deepEachObject(i,t,e):null!=(r=t&&t.call(e,i,o,n))&&(n[o]=r)}return n},arrayValueToObject:function(n,t,e){if(_.is(n,"array")){for(var r,i=null,o={},a=0,c=n.length;a<c;a++)i=n[a],null!=(r=t&&t.call(e,i,a,n,o))&&(o[i]=r);n=o}return n}},_={toString:function(n){return n&&n.toString?n.toString():c.call(n)},each:function(n,t,e){if(n&&t)if(n.__each__)n.__each__(t,e);else{var r=n.length,i=null;if(0<r&&"[object Array]"===c.call(n)){for(var o=0;o<r;o++)if(!1===(i=t.call(e,n[o],o)))return!1}else for(var a in n)if(n.hasOwnProperty(a)){if(!1===(i=t.call(e,n[a],a)))return!1;if(-1===i)continue}}},clone:function(n){if(n){if(n.__clone__)return n.__clone__();if(p.is(n,"array"))return n.slice(0);var t={};for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}return n},type:function(n){return n&&n.__type__?n.__type__:c.call(n).slice(8,-1).toLowerCase()},is:function(n,t){if(n&&n.__is__)return n.__is__(t);if("string"==typeof t)switch(t.toLowerCase()){case"plain":return n&&n.constructor===Object;default:return this.type(n)===t}else if("function"==typeof t)return n instanceof t},may:function(n,t){return!!n&&(n.__may__?n.__may__(t):n.hasOwnProperty("on"+t))},can:function(n,t){return!!n&&(n.__can__?n.__can__(t):"function"==typeof n[t])},has:function(n,t){return!!n&&(n.__has__?n.__has__(t):n.hasOwnProperty(t))},get:function(n,t){if(n)return n.__get__?n.__get__(t):n[t]},set:function(n,t,e){n&&(n.__set__?n.__set__(t,e):n[t]=e)},gets:function(n){if(n){if(n.__gets__)return n.__gets__();var t={};for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}},sets:function(n,t){if(n&&t)if(n.__sets__)n.__sets__(t);else for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])}};o.extend(p,o),o.extend(p,_)}(zn);
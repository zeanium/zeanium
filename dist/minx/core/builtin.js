!function(g){var c=Object.prototype.toString,a={timeout:function(e){return new Promise(function(t){setTimeout(t,e)})},truncate:function(t,e){if(t.length<=e)return"["+t+" ".repeat(e-t.length)+"]";var n=e/2;return"["+t.substring(0,n-3)+"..."+t.substring(t.length-n)+"]"},formatFieldData:function(t,e,n,r){var i=null,a={},o=r||{},c=e||[],s=n||[];for(var u in t)if((!c.length||-1!==c.indexOf(u))&&-1==s.indexOf(u)){switch(i=t[u],g.type(i)){case"object":case"array":i=JSON.stringify(i);break;case"function":i=i(u,t)}if(g.is(i,"string")&&(i=(i=i.replace(/'/g,"")).replace(/\n/g,"")),o[u])switch(g.type(o[u])){case"string":switch(o[u]){case"string":i=i.toString();break;case"int":i=parseInt(i||0);break;case"float":i=parseFloat(i||0).toFixed(2);break;case"datetime":switch(g.type(i)){case"date":i=g.date.dateFormat("yyyy-MM-dd hh:mm:ss",i);break;case"string":i=i||null}}break;case"function":var f=o[u].call(null,i);if(!1===f||null==f)continue;i=f}a[u]=i}return a},sliceArrayData:function(t,e){var n=[],r=[];if(t.length<e+1)return[t];for(;0<t.length;)r.length==e&&(n.push(r),r=[]),r.push(t.shift()),0==t.length&&n.push(r);return n},splitArrayData:function(t,e){for(var n=t.length,r=Math.ceil(n/e),i=[],a=0;a<r;a++)i[a]=t.slice(a*e,Math.min((a+1)*e,n));return i},resolveValue:function(){var t=arguments;if(t.length)for(var e=0,n=t.length;e<n;e++)if(null!=t[e])return t[e]},resolveObjectValue:function(t,e){if(t&&e&&e.length)for(var n=0,r=e.length;n<r;n++)if(null!=t[e[n]])return t[e[n]]},parseInt:function(t){"string"==typeof t&&(t=+t);var e=parseInt(t);return isNaN(e)&&(e=0),e},parseFloat:function(t){"string"==typeof t&&(t=+t);var e=parseFloat(t);return isNaN(e)&&(e=0),e},isNull:function(t){return null==t},isNotNull:function(t){return null!=t},idle:function(){},idleArray:function(){return[]},idleObject:function(){return{}},format:function(){var t,e=arguments,n=null;return e.length<2?e[0]:(n=(n=e[0]).toString?n.toString():n,t=e[1],s.each(t,function(t,e){null!=t&&(t=s.is(t,"object")?JSON.stringify(t):t.toString?t.toString():t,n=decodeURIComponent(n.replace(new RegExp("\\{"+e+"\\}","gi"),encodeURIComponent(t))))}),n)},uuid:function(t){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)});return t&&t.ifUpperCase&&(e=e.toUpperCase()),e},fix:function(t){for(var e=t||{},n=1,r=arguments.length;n<r;n++){var i=arguments[n];for(var a in i)i.hasOwnProperty(a)&&"function"!=typeof e[a]&&(e[a]=i[a])}return e},extend:function(t){for(var e=t||{},n=1,r=arguments.length;n<r;n++){var i=arguments[n];for(var a in i)i.hasOwnProperty(a)&&(e[a]=i[a])}return e},isJson:function(t){return"object"==typeof t&&"[object object]"==c.call(t).toLowerCase()&&0==t.constructor.toString().indexOf("function Object() {")},deepAssign:function(t,e){var n,r=null;switch(c.call(e)){case"[object Object]":if(!a.isJson(e))return t;for(var i in e)if(n=t[i],r=e[i],e.hasOwnProperty(i))switch(c.call(r)){case"[object Object]":if(!a.isJson(r))continue;r=this.deepAssign({},r),"[object Object]"==c.call(n)?t[i]=a.deepAssign(n,r):t[i]=r;break;case"[object Array]":"[object Array]"==c.call(n)?t[i]=t[i].concat(r):t[i]=r;break;case"[object Null]":case"[object Boolean]":case"[object Function]":case"[object Number]":case"[object String]":t[i]=r}break;case"[object Array]":e.unshift(t),a.deepAssigns.apply(a.deepAssigns,e)}return t},callOnce:function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}},deepAssigns:function(){for(var t=arguments[0],e=1,n=arguments.length;e<n;e++)a.deepAssign(t,arguments[e]);return t},convertArrayArgv:function(t,e){for(var n,r=[],i=g.extend({prefix:"--"},e).prefix,a={},o=null,c={},s=!1,u=0,f=t.length;u<f;u++)if(-1!==(o=t[u]).indexOf(i))a[n=o.replace(i,"")]=!0,c[u+1]=n,s=s||!0;else if(s)if(c[u])a[c[u]]=o;else{for(var l,_=u-1;!c[_]&&0<_;)--_;c[_]&&(null!=(l=a[c[_]])?"string"==typeof l?a[c[_]]=[l,o]:"object"==typeof l&&a[c[_]].push(o):a[c[_]]=o)}else r.push(o);return{env:r,argv:a}},overwrite:function(t){for(var e=t||{},n=1,r=arguments.length;n<r;n++){var i=arguments[n];for(var a in i)i.hasOwnProperty(a)&&void 0===e[a]&&(e[a]=i[a])}return e},path:function(t,e,n){var r=t||{};if(e){var i,a=e.split("."),o=a.length,c=0;if(arguments.length<3)for(;r&&c<o;c++)i=a[c],r.__get__?r.__get__(i)?r=r.__get__(i):r[i]&&(r=r[i]):r=r[i];else{for(--o;r&&c<o;c++)i=a[c],r=r.__get__?r.__get__(i):r[i]=r[i]||{};i=a[c],r&&(r.__set__?r.__set__(i,n):r[i]=n,r=n)}}return r},invoke:function(t,e,n){var r,i,a;t&&e&&(0<(r=e.lastIndexOf("."))?(i=g.path(t,e.substring(0,r)))&&(a=i[e.substring(r+1)]):a=(i=t)[e],a&&a.apply(i,n))},deepEachObject:function(t,e,n){if(s.is(t,"object")){var r,i;for(var a in t)r=t[a],s.is(r,"object")?this.deepEachObject(r,e,n):null!=(i=e&&e.call(n,r,a,t))&&(t[a]=i)}return t},arrayValueToObject:function(t,e,n){if(s.is(t,"array")){for(var r,i,a={},o=0,c=t.length;o<c;o++)r=t[o],null!=(i=e&&e.call(n,r,o,t,a))&&(a[r]=i);t=a}return t}},s={toString:function(t){return t&&t.toString?t.toString():c.call(t)},each:function(t,e,n){if(t&&e)if(t.__each__)t.__each__(e,n);else{var r=t.length,i=null;if(0<r&&"[object Array]"===c.call(t)){for(var a=0;a<r;a++)if(!1===(i=e.call(n,t[a],a)))return!1}else for(var o in t)if(t.hasOwnProperty(o)){if(!1===(i=e.call(n,t[o],o)))return!1;if(-1===i)continue}}},clone:function(t){if(t){if(t.__clone__)return t.__clone__();if(g.is(t,"array"))return t.slice(0);var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}return t},type:function(t){return t&&t.__type__?t.__type__:c.call(t).slice(8,-1).toLowerCase()},is:function(t,e){if(t&&t.__is__)return t.__is__(e);if("string"==typeof e)switch(e.toLowerCase()){case"plain":return t&&t.constructor===Object;case"function":return t&&("Function"==t.constructor.name||"AsyncFunction"==t.constructor.name);case"asyncfunction":return t&&"AsyncFunction"==t.constructor.name;default:return this.type(t)===e}else if("function"==typeof e)return t instanceof e},may:function(t,e){return!!t&&(t.__may__?t.__may__(e):t.hasOwnProperty("on"+e))},can:function(t,e){return!!t&&(t.__can__?t.__can__(e):"function"==typeof t[e])},has:function(t,e){return!!t&&(t.__has__?t.__has__(e):t.hasOwnProperty(e))},get:function(t,e){if(t)return t.__get__?t.__get__(e):t[e]},set:function(t,e,n){t&&(t.__set__?t.__set__(e,n):t[e]=n)},gets:function(t){if(t){if(t.__gets__)return t.__gets__();var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}},sets:function(t,e){if(t&&e)if(t.__sets__)t.__sets__(e);else for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}};a.extend(g,a),a.extend(g,s)}(zn);
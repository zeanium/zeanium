!function(_){var a=Object.prototype.toString,o={isNull:function(t){return null==t},isNotNull:function(t){return null!=t},idle:function(){},idleArray:function(){return[]},idleObject:function(){return{}},format:function(){var t=arguments,e=null,n=null;return t.length<2?t[0]:(e=(e=t[0]).toString?e.toString():e,n=t[1],c.each(n,function(t,n){null!=t&&(t=c.is(t,"object")?JSON.stringify(t):t.toString?t.toString():t,e=e.replace(new RegExp("\\{"+n+"\\}","gi"),t))}),e)},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=16*Math.random()|0;return("x"==t?n:3&n|8).toString(16)}).toUpperCase()},fix:function(t){for(var n=t||{},e=1,r=arguments.length;e<r;e++){var i=arguments[e];for(var o in i)i.hasOwnProperty(o)&&"function"!=typeof n[o]&&(n[o]=i[o])}return n},extend:function(t){for(var n=t||{},e=1,r=arguments.length;e<r;e++){var i=arguments[e];for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])}return n},deepAssign:function(t,n){var e=null,r=null;switch(a.call(n)){case"[object Object]":for(var i in n)switch(e=t[i],r=n[i],a.call(r)){case"[object Object]":"[object Object]"==a.call(e)?t[i]=this.deepAssign(e,r):t[i]=r;break;case"[object Array]":"[object Array]"==a.call(e)?t[i]=t[i].concat(r):t[i]=r;break;case"[object Null]":case"[object Boolean]":case"[object Function]":case"[object Number]":case"[object String]":t[i]=r}break;case"[object Array]":n.unshift(t),o.deepAssigns.apply(this,n)}return t},deepAssigns:function(){for(var t=arguments[0],n=1,e=arguments.length;n<e;n++)o.deepAssign(t,arguments[n]);return t},overwrite:function(t){for(var n=t||{},e=1,r=arguments.length;e<r;e++){var i=arguments[e];for(var o in i)i.hasOwnProperty(o)&&void 0===n[o]&&(n[o]=i[o])}return n},path:function(t,n,e){var r=t||{};if(n){var i,o=n.split("."),_=o.length,a=0;if(arguments.length<3)for(;r&&a<_;a++)i=o[a],r=r.__get__?r.__get__(i):r[i];else{for(_-=1;r&&a<_;a++)i=o[a],r=r.__get__?r.__get__(i):r[i]=r[i]||{};i=o[a],r&&(r.__set__?r.__set__(i,e):r[i]=e,r=e)}}return r},invoke:function(t,n,e){if(t&&n){var r,i,o=n.lastIndexOf(".");0<o?(r=_.path(t,n.substring(0,o)))&&(i=r[n.substring(o+1)]):i=(r=t)[n],i&&i.apply(r,e)}},deepEachObject:function(t,n,e){if(c.is(t,"object")){var r,i=null;for(var o in t)i=t[o],c.is(i,"object")?this.deepEachObject(i,n,e):null!=(r=n&&n.call(e,i,o,t))&&(t[o]=r)}return t},arrayValueToObject:function(t,n,e){if(c.is(t,"array")){for(var r,i=null,o={},_=0,a=t.length;_<a;_++)i=t[_],null!=(r=n&&n.call(e,i,_,t,o))&&(o[i]=r);t=o}return t}},c={toString:function(t){return t&&t.toString?t.toString():a.call(t)},each:function(t,n,e){if(t&&n)if(t.__each__)t.__each__(n,e);else{var r=t.length,i=null;if(0<r&&"[object Array]"===a.call(t)){for(var o=0;o<r;o++)if(!1===(i=n.call(e,t[o],o)))return!1}else for(var _ in t)if(t.hasOwnProperty(_)){if(!1===(i=n.call(e,t[_],_)))return!1;if(-1===i)continue}}},clone:function(t){if(t){if(t.__clone__)return t.__clone__();if(_.is(t,"array"))return t.slice(0);var n={};for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}return t},type:function(t){return t&&t.__type__?t.__type__:a.call(t).slice(8,-1).toLowerCase()},is:function(t,n){if(t&&t.__is__)return t.__is__(n);if("string"==typeof n)switch(n.toLowerCase()){case"plain":return t&&t.constructor===Object;default:return this.type(t)===n}else if("function"==typeof n)return t instanceof n},may:function(t,n){return!!t&&(t.__may__?t.__may__(n):t.hasOwnProperty("on"+n))},can:function(t,n){return!!t&&(t.__can__?t.__can__(n):"function"==typeof t[n])},has:function(t,n){return!!t&&(t.__has__?t.__has__(n):t.hasOwnProperty(n))},get:function(t,n){if(t)return t.__get__?t.__get__(n):t[n]},set:function(t,n,e){t&&(t.__set__?t.__set__(n,e):t[n]=e)},gets:function(t){if(t){if(t.__gets__)return t.__gets__();var n={};for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}},sets:function(t,n){if(t&&n)if(t.__sets__)t.__sets__(n);else for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}};o.extend(_,o),o.extend(_,c)}(zn);
!function(g){var a=Object.prototype.toString,o={timeout:function(t){return new Promise(function(n){setTimeout(n,t)})},truncate:function(n,t){if(n.length<=t)return"["+n+" ".repeat(t-n.length)+"]";var e=t/2;return"["+n.substring(0,e-3)+"..."+n.substring(n.length-e)+"]"},formatFieldData:function(n,t,e){var r=null,i={},o=t||[],c=e||[];for(var a in n)if((!o.length||-1!==o.indexOf(a))&&-1==c.indexOf(a)){switch(r=n[a],g.type(r)){case"object":case"array":r=JSON.stringify(r)}g.is(r,"string")&&(r=(r=r.replace(/'/g,"")).replace(/\n/g,"")),i[a]=r}return i},sliceArrayData:function(n,t){var e=[],r=[];if(n.length<t+1)return[n];for(;0<n.length;)r.length==t&&(e.push(r),r=[]),r.push(n.shift()),0==n.length&&e.push(r);return e},splitArrayData:function(n,t){for(var e=n.length,r=Math.ceil(e/t),i=[],o=0;o<r;o++)i[o]=n.slice(o*t,Math.min((o+1)*t,e));return i},isNull:function(n){return null==n},isNotNull:function(n){return null!=n},idle:function(){},idleArray:function(){return[]},idleObject:function(){return{}},format:function(){var n,t=arguments,e=null;return t.length<2?t[0]:(e=(e=t[0]).toString?e.toString():e,n=t[1],u.each(n,function(n,t){null!=n&&(n=u.is(n,"object")?JSON.stringify(n):n.toString?n.toString():n,e=e.replace(new RegExp("\\{"+t+"\\}","gi"),n))}),e)},uuid:function(n){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=16*Math.random()|0;return("x"==n?t:3&t|8).toString(16)});return n&&n.ifUpperCase&&(t=t.toUpperCase()),t},fix:function(n){for(var t=n||{},e=1,r=arguments.length;e<r;e++){var i=arguments[e];for(var o in i)i.hasOwnProperty(o)&&"function"!=typeof t[o]&&(t[o]=i[o])}return t},extend:function(n){for(var t=n||{},e=1,r=arguments.length;e<r;e++){var i=arguments[e];for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])}return t},isJson:function(n){return"object"==typeof n&&"[object object]"==a.call(n).toLowerCase()&&0==n.constructor.toString().indexOf("function Object() {")},deepAssign:function(n,t){var e,r=null;switch(a.call(t)){case"[object Object]":if(!o.isJson(t))return n;for(var i in t)if(e=n[i],r=t[i],t.hasOwnProperty(i))switch(a.call(r)){case"[object Object]":if(!o.isJson(r))continue;r=this.deepAssign({},r),"[object Object]"==a.call(e)?n[i]=o.deepAssign(e,r):n[i]=r;break;case"[object Array]":"[object Array]"==a.call(e)?n[i]=n[i].concat(r):n[i]=r;break;case"[object Null]":case"[object Boolean]":case"[object Function]":case"[object Number]":case"[object String]":n[i]=r}break;case"[object Array]":t.unshift(n),o.deepAssigns.apply(o.deepAssigns,t)}return n},callOnce:function(n){var t=!1;return function(){t||(t=!0,n.apply(this,arguments))}},deepAssigns:function(){for(var n=arguments[0],t=1,e=arguments.length;t<e;t++)o.deepAssign(n,arguments[t]);return n},convertArrayArgv:function(n,t){for(var e,r=[],i=g.extend({prefix:"--"},t).prefix,o={},c=null,a={},u=!1,s=0,f=n.length;s<f;s++)if(-1!==(c=n[s]).indexOf(i))o[e=c.replace(i,"")]=!0,a[s+1]=e,u=u||!0;else if(u)if(a[s])o[a[s]]=c;else{for(var _,l=s-1;!a[l]&&0<l;)--l;a[l]&&(null!=(_=o[a[l]])?"string"==typeof _?o[a[l]]=[_,c]:"object"==typeof _&&o[a[l]].push(c):o[a[l]]=c)}else r.push(c);return{env:r,argv:o}},overwrite:function(n){for(var t=n||{},e=1,r=arguments.length;e<r;e++){var i=arguments[e];for(var o in i)i.hasOwnProperty(o)&&void 0===t[o]&&(t[o]=i[o])}return t},path:function(n,t,e){var r=n||{};if(t){var i,o=t.split("."),c=o.length,a=0;if(arguments.length<3)for(;r&&a<c;a++)i=o[a],r.__get__?r.__get__(i)?r=r.__get__(i):r[i]&&(r=r[i]):r=r[i];else{for(--c;r&&a<c;a++)i=o[a],r=r.__get__?r.__get__(i):r[i]=r[i]||{};i=o[a],r&&(r.__set__?r.__set__(i,e):r[i]=e,r=e)}}return r},invoke:function(n,t,e){var r,i,o;n&&t&&(0<(r=t.lastIndexOf("."))?(i=g.path(n,t.substring(0,r)))&&(o=i[t.substring(r+1)]):o=(i=n)[t],o&&o.apply(i,e))},deepEachObject:function(n,t,e){if(u.is(n,"object")){var r,i;for(var o in n)r=n[o],u.is(r,"object")?this.deepEachObject(r,t,e):null!=(i=t&&t.call(e,r,o,n))&&(n[o]=i)}return n},arrayValueToObject:function(n,t,e){if(u.is(n,"array")){for(var r,i,o={},c=0,a=n.length;c<a;c++)r=n[c],null!=(i=t&&t.call(e,r,c,n,o))&&(o[r]=i);n=o}return n}},u={toString:function(n){return n&&n.toString?n.toString():a.call(n)},each:function(n,t,e){if(n&&t)if(n.__each__)n.__each__(t,e);else{var r=n.length,i=null;if(0<r&&"[object Array]"===a.call(n)){for(var o=0;o<r;o++)if(!1===(i=t.call(e,n[o],o)))return!1}else for(var c in n)if(n.hasOwnProperty(c)){if(!1===(i=t.call(e,n[c],c)))return!1;if(-1===i)continue}}},clone:function(n){if(n){if(n.__clone__)return n.__clone__();if(g.is(n,"array"))return n.slice(0);var t={};for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}return n},type:function(n){return n&&n.__type__?n.__type__:a.call(n).slice(8,-1).toLowerCase()},is:function(n,t){if(n&&n.__is__)return n.__is__(t);if("string"==typeof t)switch(t.toLowerCase()){case"plain":return n&&n.constructor===Object;case"function":return n&&("Function"==n.constructor.name||"AsyncFunction"==n.constructor.name);case"asyncfunction":return n&&"AsyncFunction"==n.constructor.name;default:return this.type(n)===t}else if("function"==typeof t)return n instanceof t},may:function(n,t){return!!n&&(n.__may__?n.__may__(t):n.hasOwnProperty("on"+t))},can:function(n,t){return!!n&&(n.__can__?n.__can__(t):"function"==typeof n[t])},has:function(n,t){return!!n&&(n.__has__?n.__has__(t):n.hasOwnProperty(t))},get:function(n,t){if(n)return n.__get__?n.__get__(t):n[t]},set:function(n,t,e){n&&(n.__set__?n.__set__(t,e):n[t]=e)},gets:function(n){if(n){if(n.__gets__)return n.__gets__();var t={};for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}},sets:function(n,t){if(n&&t)if(n.__sets__)n.__sets__(t);else for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])}};o.extend(g,o),o.extend(g,u)}(zn);
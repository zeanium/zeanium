!function(g){var c=Object.prototype.toString,o={timeout:function(n){return new Promise(function(t){setTimeout(t,n)})},truncate:function(t,n){if(t.length<=n)return"["+t+" ".repeat(n-t.length)+"]";var e=n/2;return"["+t.substring(0,e-3)+"..."+t.substring(t.length-e)+"]"},formatFieldData:function(t,n,e,r){var i=null,o={},a=r||{},c=n||[],s=e||[];for(var u in t)if((!c.length||-1!==c.indexOf(u))&&-1==s.indexOf(u)){switch(i=t[u],g.type(i)){case"object":case"array":i=JSON.stringify(i);break;case"function":i=i(u,t)}if(g.is(i,"string")&&(i=(i=i.replace(/'/g,"")).replace(/\n/g,"")),a[u])switch(a[u]){case"string":i=i.toString();break;case"int":i=parseInt(i||0);break;case"float":i=parseFloat(i||0).toFixed(2);break;case"datetime":i=g.date.dateFormat("yyyy-MM-dd hh:mm:ss",i)}o[u]=i}return o},sliceArrayData:function(t,n){var e=[],r=[];if(t.length<n+1)return[t];for(;0<t.length;)r.length==n&&(e.push(r),r=[]),r.push(t.shift()),0==t.length&&e.push(r);return e},splitArrayData:function(t,n){for(var e=t.length,r=Math.ceil(e/n),i=[],o=0;o<r;o++)i[o]=t.slice(o*n,Math.min((o+1)*n,e));return i},isNull:function(t){return null==t},isNotNull:function(t){return null!=t},idle:function(){},idleArray:function(){return[]},idleObject:function(){return{}},format:function(){var t,n=arguments,e=null;return n.length<2?n[0]:(e=(e=n[0]).toString?e.toString():e,t=n[1],s.each(t,function(t,n){null!=t&&(t=s.is(t,"object")?JSON.stringify(t):t.toString?t.toString():t,e=e.replace(new RegExp("\\{"+n+"\\}","gi"),t))}),e)},uuid:function(t){var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=16*Math.random()|0;return("x"==t?n:3&n|8).toString(16)});return t&&t.ifUpperCase&&(n=n.toUpperCase()),n},fix:function(t){for(var n=t||{},e=1,r=arguments.length;e<r;e++){var i=arguments[e];for(var o in i)i.hasOwnProperty(o)&&"function"!=typeof n[o]&&(n[o]=i[o])}return n},extend:function(t){for(var n=t||{},e=1,r=arguments.length;e<r;e++){var i=arguments[e];for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])}return n},isJson:function(t){return"object"==typeof t&&"[object object]"==c.call(t).toLowerCase()&&0==t.constructor.toString().indexOf("function Object() {")},deepAssign:function(t,n){var e,r=null;switch(c.call(n)){case"[object Object]":if(!o.isJson(n))return t;for(var i in n)if(e=t[i],r=n[i],n.hasOwnProperty(i))switch(c.call(r)){case"[object Object]":if(!o.isJson(r))continue;r=this.deepAssign({},r),"[object Object]"==c.call(e)?t[i]=o.deepAssign(e,r):t[i]=r;break;case"[object Array]":"[object Array]"==c.call(e)?t[i]=t[i].concat(r):t[i]=r;break;case"[object Null]":case"[object Boolean]":case"[object Function]":case"[object Number]":case"[object String]":t[i]=r}break;case"[object Array]":n.unshift(t),o.deepAssigns.apply(o.deepAssigns,n)}return t},callOnce:function(t){var n=!1;return function(){n||(n=!0,t.apply(this,arguments))}},deepAssigns:function(){for(var t=arguments[0],n=1,e=arguments.length;n<e;n++)o.deepAssign(t,arguments[n]);return t},convertArrayArgv:function(t,n){for(var e,r=[],i=g.extend({prefix:"--"},n).prefix,o={},a=null,c={},s=!1,u=0,f=t.length;u<f;u++)if(-1!==(a=t[u]).indexOf(i))o[e=a.replace(i,"")]=!0,c[u+1]=e,s=s||!0;else if(s)if(c[u])o[c[u]]=a;else{for(var _,l=u-1;!c[l]&&0<l;)--l;c[l]&&(null!=(_=o[c[l]])?"string"==typeof _?o[c[l]]=[_,a]:"object"==typeof _&&o[c[l]].push(a):o[c[l]]=a)}else r.push(a);return{env:r,argv:o}},overwrite:function(t){for(var n=t||{},e=1,r=arguments.length;e<r;e++){var i=arguments[e];for(var o in i)i.hasOwnProperty(o)&&void 0===n[o]&&(n[o]=i[o])}return n},path:function(t,n,e){var r=t||{};if(n){var i,o=n.split("."),a=o.length,c=0;if(arguments.length<3)for(;r&&c<a;c++)i=o[c],r.__get__?r.__get__(i)?r=r.__get__(i):r[i]&&(r=r[i]):r=r[i];else{for(--a;r&&c<a;c++)i=o[c],r=r.__get__?r.__get__(i):r[i]=r[i]||{};i=o[c],r&&(r.__set__?r.__set__(i,e):r[i]=e,r=e)}}return r},invoke:function(t,n,e){var r,i,o;t&&n&&(0<(r=n.lastIndexOf("."))?(i=g.path(t,n.substring(0,r)))&&(o=i[n.substring(r+1)]):o=(i=t)[n],o&&o.apply(i,e))},deepEachObject:function(t,n,e){if(s.is(t,"object")){var r,i;for(var o in t)r=t[o],s.is(r,"object")?this.deepEachObject(r,n,e):null!=(i=n&&n.call(e,r,o,t))&&(t[o]=i)}return t},arrayValueToObject:function(t,n,e){if(s.is(t,"array")){for(var r,i,o={},a=0,c=t.length;a<c;a++)r=t[a],null!=(i=n&&n.call(e,r,a,t,o))&&(o[r]=i);t=o}return t}},s={toString:function(t){return t&&t.toString?t.toString():c.call(t)},each:function(t,n,e){if(t&&n)if(t.__each__)t.__each__(n,e);else{var r=t.length,i=null;if(0<r&&"[object Array]"===c.call(t)){for(var o=0;o<r;o++)if(!1===(i=n.call(e,t[o],o)))return!1}else for(var a in t)if(t.hasOwnProperty(a)){if(!1===(i=n.call(e,t[a],a)))return!1;if(-1===i)continue}}},clone:function(t){if(t){if(t.__clone__)return t.__clone__();if(g.is(t,"array"))return t.slice(0);var n={};for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}return t},type:function(t){return t&&t.__type__?t.__type__:c.call(t).slice(8,-1).toLowerCase()},is:function(t,n){if(t&&t.__is__)return t.__is__(n);if("string"==typeof n)switch(n.toLowerCase()){case"plain":return t&&t.constructor===Object;case"function":return t&&("Function"==t.constructor.name||"AsyncFunction"==t.constructor.name);case"asyncfunction":return t&&"AsyncFunction"==t.constructor.name;default:return this.type(t)===n}else if("function"==typeof n)return t instanceof n},may:function(t,n){return!!t&&(t.__may__?t.__may__(n):t.hasOwnProperty("on"+n))},can:function(t,n){return!!t&&(t.__can__?t.__can__(n):"function"==typeof t[n])},has:function(t,n){return!!t&&(t.__has__?t.__has__(n):t.hasOwnProperty(n))},get:function(t,n){if(t)return t.__get__?t.__get__(n):t[n]},set:function(t,n,e){t&&(t.__set__?t.__set__(n,e):t[n]=e)},gets:function(t){if(t){if(t.__gets__)return t.__gets__();var n={};for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}},sets:function(t,n){if(t&&n)if(t.__sets__)t.__sets__(n);else for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}};o.extend(g,o),o.extend(g,s)}(zn);
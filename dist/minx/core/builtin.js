!function(p){var a=Object.prototype.toString,o={isNull:function(t){return null==t},isNotNull:function(t){return null!=t},idle:function(){},idleArray:function(){return[]},idleObject:function(){return{}},format:function(){var t=arguments,e=null,n=null;return t.length<2?t[0]:(e=(e=t[0]).toString?e.toString():e,n=t[1],_.each(n,function(t,n){null!=t&&(t=_.is(t,"object")?JSON.stringify(t):t.toString?t.toString():t,e=e.replace(new RegExp("\\{"+n+"\\}","gi"),t))}),e)},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=16*Math.random()|0;return("x"==t?n:3&n|8).toString(16)}).toUpperCase()},fix:function(t){for(var n=t||{},e=1,r=arguments.length;e<r;e++){var i=arguments[e];for(var o in i)i.hasOwnProperty(o)&&"function"!=typeof n[o]&&(n[o]=i[o])}return n},extend:function(t){for(var n=t||{},e=1,r=arguments.length;e<r;e++){var i=arguments[e];for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])}return n},isJson:function(t){return"object"==typeof t&&"[object object]"==a.call(t).toLowerCase()&&"function Object() { [native code] }"==t.constructor.toString()},deepAssign:function(t,n){var e=null,r=null;switch(a.call(n)){case"[object Object]":if(!o.isJson(n))return t;for(var i in n)if(e=t[i],r=n[i],n.hasOwnProperty(i))switch(a.call(r)){case"[object Object]":if(!o.isJson(r))continue;r=this.deepAssign({},r),"[object Object]"==a.call(e)?t[i]=this.deepAssign(e,r):t[i]=r;break;case"[object Array]":"[object Array]"==a.call(e)?t[i]=t[i].concat(r):t[i]=r;break;case"[object Null]":case"[object Boolean]":case"[object Function]":case"[object Number]":case"[object String]":t[i]=r}break;case"[object Array]":n.unshift(t),o.deepAssigns.apply(this,n)}return t},callOnce:function(t){var n=!1;return function(){n||(n=!0,t.apply(this,arguments))}},deepAssigns:function(){for(var t=arguments[0],n=1,e=arguments.length;n<e;n++)o.deepAssign(t,arguments[n]);return t},convertArrayArgv:function(t,n){for(var e=[],r=p.extend({prefix:"--"},n).prefix,i={},o="",c=null,a={},_=!1,u=0,s=t.length;u<s;u++)if(-1!==(c=t[u]).indexOf(r))i[o=c.replace(r,"")]=!0,a[u+1]=o,_=_||!0;else if(_)if(a[u])i[a[u]]=c;else{for(var f,l=u-1;!a[l]&&0<l;)--l;a[l]&&(null!=(f=i[a[l]])?"string"==typeof f?i[a[l]]=[f,c]:"object"==typeof f&&i[a[l]].push(c):i[a[l]]=c)}else e.push(c);return{env:e,argv:i}},overwrite:function(t){for(var n=t||{},e=1,r=arguments.length;e<r;e++){var i=arguments[e];for(var o in i)i.hasOwnProperty(o)&&void 0===n[o]&&(n[o]=i[o])}return n},path:function(t,n,e){var r=t||{};if(n){var i,o=n.split("."),c=o.length,a=0;if(arguments.length<3)for(;r&&a<c;a++)i=o[a],r=r.__get__?r.__get__(i):r[i];else{for(--c;r&&a<c;a++)i=o[a],r=r.__get__?r.__get__(i):r[i]=r[i]||{};i=o[a],r&&(r.__set__?r.__set__(i,e):r[i]=e,r=e)}}return r},invoke:function(t,n,e){var r,i,o;t&&n&&(0<(r=n.lastIndexOf("."))?(i=p.path(t,n.substring(0,r)))&&(o=i[n.substring(r+1)]):o=(i=t)[n],o&&o.apply(i,e))},deepEachObject:function(t,n,e){if(_.is(t,"object")){var r,i=null;for(var o in t)i=t[o],_.is(i,"object")?this.deepEachObject(i,n,e):null!=(r=n&&n.call(e,i,o,t))&&(t[o]=r)}return t},arrayValueToObject:function(t,n,e){if(_.is(t,"array")){for(var r,i=null,o={},c=0,a=t.length;c<a;c++)i=t[c],null!=(r=n&&n.call(e,i,c,t,o))&&(o[i]=r);t=o}return t}},_={toString:function(t){return t&&t.toString?t.toString():a.call(t)},each:function(t,n,e){if(t&&n)if(t.__each__)t.__each__(n,e);else{var r=t.length,i=null;if(0<r&&"[object Array]"===a.call(t)){for(var o=0;o<r;o++)if(!1===(i=n.call(e,t[o],o)))return!1}else for(var c in t)if(t.hasOwnProperty(c)){if(!1===(i=n.call(e,t[c],c)))return!1;if(-1===i)continue}}},clone:function(t){if(t){if(t.__clone__)return t.__clone__();if(p.is(t,"array"))return t.slice(0);var n={};for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}return t},type:function(t){return t&&t.__type__?t.__type__:a.call(t).slice(8,-1).toLowerCase()},is:function(t,n){if(t&&t.__is__)return t.__is__(n);if("string"==typeof n)switch(n.toLowerCase()){case"plain":return t&&t.constructor===Object;default:return this.type(t)===n}else if("function"==typeof n)return t instanceof n},may:function(t,n){return!!t&&(t.__may__?t.__may__(n):t.hasOwnProperty("on"+n))},can:function(t,n){return!!t&&(t.__can__?t.__can__(n):"function"==typeof t[n])},has:function(t,n){return!!t&&(t.__has__?t.__has__(n):t.hasOwnProperty(n))},get:function(t,n){if(t)return t.__get__?t.__get__(n):t[n]},set:function(t,n,e){t&&(t.__set__?t.__set__(n,e):t[n]=e)},gets:function(t){if(t){if(t.__gets__)return t.__gets__();var n={};for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}},sets:function(t,n){if(t&&n)if(t.__sets__)t.__sets__(n);else for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}};o.extend(p,o),o.extend(p,_)}(zn);
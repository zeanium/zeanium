!function(p){var a=Object.prototype.toString,o={isNull:function(t){return null==t},isNotNull:function(t){return null!=t},idle:function(){},idleArray:function(){return[]},idleObject:function(){return{}},format:function(){var t,e=arguments,n=null;return e.length<2?e[0]:(n=(n=e[0]).toString?n.toString():n,t=e[1],_.each(t,function(t,e){null!=t&&(t=_.is(t,"object")?JSON.stringify(t):t.toString?t.toString():t,n=n.replace(new RegExp("\\{"+e+"\\}","gi"),t))}),n)},uuid:function(t){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)});return t&&t.ifUpperCase&&(e=e.toUpperCase()),e},fix:function(t){for(var e=t||{},n=1,r=arguments.length;n<r;n++){var i=arguments[n];for(var o in i)i.hasOwnProperty(o)&&"function"!=typeof e[o]&&(e[o]=i[o])}return e},extend:function(t){for(var e=t||{},n=1,r=arguments.length;n<r;n++){var i=arguments[n];for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o])}return e},isJson:function(t){return"object"==typeof t&&"[object object]"==a.call(t).toLowerCase()&&"function Object() { [native code] }"==t.constructor.toString()},deepAssign:function(t,e){var n,r=null;switch(a.call(e)){case"[object Object]":if(!o.isJson(e))return t;for(var i in e)if(n=t[i],r=e[i],e.hasOwnProperty(i))switch(a.call(r)){case"[object Object]":if(!o.isJson(r))continue;r=this.deepAssign({},r),"[object Object]"==a.call(n)?t[i]=this.deepAssign(n,r):t[i]=r;break;case"[object Array]":"[object Array]"==a.call(n)?t[i]=t[i].concat(r):t[i]=r;break;case"[object Null]":case"[object Boolean]":case"[object Function]":case"[object Number]":case"[object String]":t[i]=r}break;case"[object Array]":e.unshift(t),o.deepAssigns.apply(this,e)}return t},callOnce:function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}},deepAssigns:function(){for(var t=arguments[0],e=1,n=arguments.length;e<n;e++)o.deepAssign(t,arguments[e]);return t},convertArrayArgv:function(t,e){for(var n,r=[],i=p.extend({prefix:"--"},e).prefix,o={},c=null,a={},_=!1,s=0,f=t.length;s<f;s++)if(-1!==(c=t[s]).indexOf(i))o[n=c.replace(i,"")]=!0,a[s+1]=n,_=_||!0;else if(_)if(a[s])o[a[s]]=c;else{for(var u,l=s-1;!a[l]&&0<l;)--l;a[l]&&(null!=(u=o[a[l]])?"string"==typeof u?o[a[l]]=[u,c]:"object"==typeof u&&o[a[l]].push(c):o[a[l]]=c)}else r.push(c);return{env:r,argv:o}},overwrite:function(t){for(var e=t||{},n=1,r=arguments.length;n<r;n++){var i=arguments[n];for(var o in i)i.hasOwnProperty(o)&&void 0===e[o]&&(e[o]=i[o])}return e},path:function(t,e,n){var r=t||{};if(e){var i,o=e.split("."),c=o.length,a=0;if(arguments.length<3)for(;r&&a<c;a++)i=o[a],r=r.__get__?r.__get__(i):r[i];else{for(--c;r&&a<c;a++)i=o[a],r=r.__get__?r.__get__(i):r[i]=r[i]||{};i=o[a],r&&(r.__set__?r.__set__(i,n):r[i]=n,r=n)}}return r},invoke:function(t,e,n){var r,i,o;t&&e&&(0<(r=e.lastIndexOf("."))?(i=p.path(t,e.substring(0,r)))&&(o=i[e.substring(r+1)]):o=(i=t)[e],o&&o.apply(i,n))},deepEachObject:function(t,e,n){if(_.is(t,"object")){var r,i;for(var o in t)r=t[o],_.is(r,"object")?this.deepEachObject(r,e,n):null!=(i=e&&e.call(n,r,o,t))&&(t[o]=i)}return t},arrayValueToObject:function(t,e,n){if(_.is(t,"array")){for(var r,i,o={},c=0,a=t.length;c<a;c++)r=t[c],null!=(i=e&&e.call(n,r,c,t,o))&&(o[r]=i);t=o}return t}},_={toString:function(t){return t&&t.toString?t.toString():a.call(t)},each:function(t,e,n){if(t&&e)if(t.__each__)t.__each__(e,n);else{var r=t.length,i=null;if(0<r&&"[object Array]"===a.call(t)){for(var o=0;o<r;o++)if(!1===(i=e.call(n,t[o],o)))return!1}else for(var c in t)if(t.hasOwnProperty(c)){if(!1===(i=e.call(n,t[c],c)))return!1;if(-1===i)continue}}},clone:function(t){if(t){if(t.__clone__)return t.__clone__();if(p.is(t,"array"))return t.slice(0);var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}return t},type:function(t){return t&&t.__type__?t.__type__:a.call(t).slice(8,-1).toLowerCase()},is:function(t,e){if(t&&t.__is__)return t.__is__(e);if("string"==typeof e)switch(e.toLowerCase()){case"plain":return t&&t.constructor===Object;default:return this.type(t)===e}else if("function"==typeof e)return t instanceof e},may:function(t,e){return!!t&&(t.__may__?t.__may__(e):t.hasOwnProperty("on"+e))},can:function(t,e){return!!t&&(t.__can__?t.__can__(e):"function"==typeof t[e])},has:function(t,e){return!!t&&(t.__has__?t.__has__(e):t.hasOwnProperty(e))},get:function(t,e){if(t)return t.__get__?t.__get__(e):t[e]},set:function(t,e,n){t&&(t.__set__?t.__set__(e,n):t[e]=n)},gets:function(t){if(t){if(t.__gets__)return t.__gets__();var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}},sets:function(t,e){if(t&&e)if(t.__sets__)t.__sets__(e);else for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}};o.extend(p,o),o.extend(p,_)}(zn);
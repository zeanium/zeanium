!function(n){var s=["INFO","DEBUG","WARN","ERROR","TRACE","ALL"],g=["#100000","#2125a0","#a82c2c","#c045b7","1cb131","#100000"],r=[38,34,35,31,32,36,33],t=0,o=1,e=2,i=3,l=4,c=6,a=n.Class({events:["info","debug","warn","error","trace","all"],methods:{init:function(){this._config={only:null,levels:["info","debug","warn","error","trace","all"]}},config:function(t){this._config=n.overwrite(t,this._config)},info:function(){this.__log.call(this,t,arguments)},debug:function(){this.__log.call(this,o,arguments)},warn:function(){this.__log.call(this,e,arguments)},trace:function(){this.__log.call(this,l,arguments)},error:function(t){this.__log.call(this,i,arguments)},all:function(t){this.__log.call(this,c,arguments)},__getDateString:function(t){return n.date.asString(t||new Date)},__getPosition:function(){try{throw new Error}catch(t){return n.DEBUG&&n.CONSOLE_ERROR&&console.log(t.stack),t.stack.split("\n")[5].replace(/\(/g,"").replace(/\)/g,"").split("/").pop()}},__formatLog4Server:function(t,n){var o="",e="",i="";return n&&(e="[",i="[0m",o=r[5]+"m",n=r[t.type]+"m"),[t.time," [",e,n,s[t.type],i,"] [",e,o,t.pos,i,"] ",t.message].join("")},__formatLog4Client:function(t,n){return["%c"+t.time," [",s[t.type],"] "].join("")},__log:function(t,n){var o=Array.prototype.slice.call(n),e=o.slice(0),i=s[t].toLowerCase(),r=this.__getDateString(),l=this.__getPosition();e.unshift(l),e.unshift(i),e.unshift(r),"undefined"!=typeof module&&module.exports?o.unshift(this.__formatLog4Server({type:t,time:r,pos:l},!0)):(o.unshift("color:"+g[t]),o.unshift(this.__formatLog4Client({type:t,time:r,pos:l},!0))),this.__isOk(i)&&!1!==this.fire(i,e,o)&&console.log.apply(this,o)},__isOk:function(t){if(this._config.only){if(this._config.only===t)return!0}else if(-1!==this._config.levels.indexOf(t))return!0;return!1}}});n.logger=new a;var f={info:function(){n.logger.info.apply(n.logger,arguments)},debug:function(){n.logger.debug.apply(n.logger,arguments)},warn:function(){n.logger.warn.apply(n.logger,arguments)},trace:function(){n.logger.trace.apply(n.logger,arguments)},error:function(){n.logger.error.apply(n.logger,arguments)}};n.extend(n,f)}(zn);
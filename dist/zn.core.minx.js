var __isServer="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0),zn={VERSION:"1.0.8",DEBUG:!0,ZN_PATH:"",PATH:"",GLOBAL:function(){return __isServer?global:window}.call(null),isServer:__isServer};if(zn.GLOBAL.zn=zn,__isServer)zn.ZN_PATH=__dirname,zn.PATH=process.cwd(),module.exports=zn;else{var _zn_url="";try{__a__=__b__}catch(r){r.fileName?_zn_url=r.fileName:r.sourceURL?_zn_url=r.sourceURL:r.stacktrace?console.error(r.stacktrace):r.stack?_zn_url=(_zn_url=(_zn_url=r.stack.split("\n")[1]).replace(/\s/g,"")).substring(2,_zn_url.length):console.error(r.toString())}if(!_zn_url)for(var _node,_scripts=document.getElementsByTagName("script"),_src="",i=0,_len=scripts.length;i<_len;i++)if((_node=scripts[i]).getAttribute&&("zn.js"===(_src=_node.getAttribute("src")||"").slice(-5)||"zn.minx.js"===_src.slice(-10))){_zn_url=_src;break}if(!_zn_url)throw new Error("zn.js has not been included, please do it first.");zn.ZN_PATH=_zn_url.substring(0,_zn_url.lastIndexOf("/")+1)}
(_=>{var a=Object.prototype.toString,o={timeout:function(e){return new Promise(function(t){setTimeout(t,e)})},truncate:function(t,e){return t.length<=e?"["+t+" ".repeat(e-t.length)+"]":"["+t.substring(0,(e=e/2)-3)+"..."+t.substring(t.length-e)+"]"},formatFieldData:function(t,e,n,r){var i,o=null,a={},c=r||{},s=e||[],u=n||[];for(i in t)if((!s.length||-1!==s.indexOf(i))&&-1==u.indexOf(i)){switch(o=t[i],_.type(o)){case"object":case"array":o=JSON.stringify(o);break;case"function":o=o(i,t)}if(_.is(o,"string")&&(o=(o=o.replace(/'/g,"")).replace(/\n/g,"")),c[i])switch(_.type(c[i])){case"string":switch(c[i]){case"string":o=o.toString();break;case"int":o=parseInt(o||0);break;case"float":o=parseFloat(o||0).toFixed(2);break;case"datetime":switch(_.type(o)){case"date":o=_.date.dateFormat("yyyy-MM-dd hh:mm:ss",o);break;case"string":o=o||null}}break;case"function":var f=c[i].call(null,o);if(!1===f||null==f)continue;o=f}a[i]=o}return a},sliceArrayData:function(t,e){var n=[],r=[];if(t.length<e+1)return[t];for(;0<t.length;)r.length==e&&(n.push(r),r=[]),r.push(t.shift()),0==t.length&&n.push(r);return n},splitArrayData:function(t,e){for(var n=t.length,r=Math.ceil(n/e),i=[],o=0;o<r;o++)i[o]=t.slice(o*e,Math.min((o+1)*e,n));return i},resolveValue:function(){var t=arguments;if(t.length)for(var e=0,n=t.length;e<n;e++)if(null!=t[e])return t[e]},resolveObjectValue:function(t,e){if(t&&e&&e.length)for(var n=0,r=e.length;n<r;n++)if(null!=t[e[n]])return t[e[n]]},parseInt:function(t){"string"==typeof t&&(t=+t);t=parseInt(t);return t=isNaN(t)?0:t},parseFloat:function(t){"string"==typeof t&&(t=+t);t=parseFloat(t);return t=isNaN(t)?0:t},isNull:function(t){return null==t},isNotNull:function(t){return null!=t},idle:function(){},idleArray:function(){return[]},idleObject:function(){return{}},format:function(){var t=arguments,n=null;return t.length<2?t[0]:(n=(n=t[0]).toString?n.toString():n,s.each(t[1],function(t,e){null!=t&&(t=s.is(t,"object")?JSON.stringify(t):t.toString?t.toString():t,n=decodeURIComponent(n.replace(new RegExp("\\{"+e+"\\}","gi"),encodeURIComponent(t))))}),n)},uuid:function(t){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)});return e=t&&t.ifUpperCase?e.toUpperCase():e},fix:function(t){for(var e=t||{},n=1,r=arguments.length;n<r;n++){var i,o=arguments[n];for(i in o)o.hasOwnProperty(i)&&"function"!=typeof e[i]&&(e[i]=o[i])}return e},extend:function(t){for(var e=t||{},n=1,r=arguments.length;n<r;n++){var i,o=arguments[n];for(i in o)o.hasOwnProperty(i)&&(e[i]=o[i])}return e},isJson:function(t){return"object"==typeof t&&"[object object]"==a.call(t).toLowerCase()&&0==t.constructor.toString().indexOf("function Object() {")},deepAssign:function(t,e){var n,r=null;switch(a.call(e)){case"[object Object]":if(!o.isJson(e))return t;for(var i in e)if(n=t[i],r=e[i],e.hasOwnProperty(i))switch(a.call(r)){case"[object Object]":o.isJson(r)&&(r=this.deepAssign({},r),"[object Object]"==a.call(n)?t[i]=o.deepAssign(n,r):t[i]=r);break;case"[object Array]":"[object Array]"==a.call(n)?t[i]=t[i].concat(r):t[i]=r;break;case"[object Null]":case"[object Boolean]":case"[object Function]":case"[object Number]":case"[object String]":t[i]=r}break;case"[object Array]":e.unshift(t),o.deepAssigns.apply(o.deepAssigns,e)}return t},callOnce:function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}},deepAssigns:function(){for(var t=arguments[0],e=1,n=arguments.length;e<n;e++)o.deepAssign(t,arguments[e]);return t},convertArrayArgv:function(t,e){for(var n=[],r=_.extend({prefix:"--"},e).prefix,i={},o=null,a={},c=!1,s=0,u=t.length;s<u;s++)if(-1!==(o=t[s]).indexOf(r))i[f=o.replace(r,"")]=!0,a[s+1]=f,c=c||!0;else if(c)if(a[s])i[a[s]]=o;else{for(var f,l=s-1;!a[l]&&0<l;)l-=1;a[l]&&(null!=(f=i[a[l]])?"string"==typeof f?i[a[l]]=[f,o]:"object"==typeof f&&i[a[l]].push(o):i[a[l]]=o)}else n.push(o);return{env:n,argv:i}},overwrite:function(t){for(var e=t||{},n=1,r=arguments.length;n<r;n++){var i,o=arguments[n];for(i in o)o.hasOwnProperty(i)&&void 0===e[i]&&(e[i]=o[i])}return e},path:function(t,e,n){var r=t||{};if(e){var i,o=e.split("."),a=o.length,c=0;if(arguments.length<3)for(;r&&c<a;c++)i=o[c],r.__get__?r.__get__(i)?r=r.__get__(i):r[i]&&(r=r[i]):r=r[i];else{for(--a;r&&c<a;c++)i=o[c],r=r.__get__?r.__get__(i):r[i]=r[i]||{};i=o[c],r&&(r.__set__?r.__set__(i,n):r[i]=n,r=n)}}return r},invoke:function(t,e,n){var r,i,o;t&&e&&(0<(r=e.lastIndexOf("."))?(i=_.path(t,e.substring(0,r)))&&(o=i[e.substring(r+1)]):o=(i=t)[e],o)&&o.apply(i,n)},deepEachObject:function(t,e,n){if(s.is(t,"object")){var r,i;for(i in t)r=t[i],s.is(r,"object")?this.deepEachObject(r,e,n):null!=(r=e&&e.call(n,r,i,t))&&(t[i]=r)}return t},arrayValueToObject:function(t,e,n){if(s.is(t,"array")){for(var r,i,o={},a=0,c=t.length;a<c;a++)r=t[a],null!=(i=e&&e.call(n,r,a,t,o))&&(o[r]=i);t=o}return t}},s={toString:function(t){return t&&t.toString?t.toString():a.call(t)},each:function(t,e,n){if(t&&e)if(t.__each__)t.__each__(e,n);else{var r=t.length;if(0<r&&"[object Array]"===a.call(t)){for(var i=0;i<r;i++)if(!1===e.call(n,t[i],i))return!1}else for(var o in t)if(t.hasOwnProperty(o)&&!1===e.call(n,t[o],o))return!1}},clone:function(t){if(t){if(t.__clone__)return t.__clone__();if(_.is(t,"array"))return t.slice(0);var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}return t},type:function(t){return t&&t.__type__?t.__type__:a.call(t).slice(8,-1).toLowerCase()},is:function(t,e){if(t&&t.__is__)return t.__is__(e);if("string"==typeof e)switch(e.toLowerCase()){case"plain":return t&&t.constructor===Object;case"function":return t&&("Function"==t.constructor.name||"AsyncFunction"==t.constructor.name);case"asyncfunction":return t&&"AsyncFunction"==t.constructor.name;default:return this.type(t)===e}else if("function"==typeof e)return t instanceof e},may:function(t,e){return!!t&&(t.__may__?t.__may__(e):t.hasOwnProperty("on"+e))},can:function(t,e){return!!t&&(t.__can__?t.__can__(e):"function"==typeof t[e])},has:function(t,e){return!!t&&(t.__has__?t.__has__(e):t.hasOwnProperty(e))},get:function(t,e){if(t)return t.__get__?t.__get__(e):t[e]},set:function(t,e,n){t&&(t.__set__?t.__set__(e,n):t[e]=n)},gets:function(t){if(t){if(t.__gets__)return t.__gets__();var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}},sets:function(t,e){if(t&&e)if(t.__sets__)t.__sets__(e);else for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}};o.extend(_,o),o.extend(_,s)})(zn);
(l=>{var _=l.GLOBAL,o=Array.prototype.slice,i=1,f=1,u={fixTargetCtor:function(t){return t instanceof p?t.constructor:t},fixTargetKey:function(t){return"@"+t},defineEvent:function(t,n,e){var r=u.fixTargetCtor(t),i=u.fixTargetKey(n),s=i in r,_={};return s||(_=Object.defineProperty(t,"on"+n.toLowerCase(),{get:function(){var t=this.__handlers__[n];return t?t[0].handler:null},set:function(t){var e=this.__handlers__;(e[n]=e[n]||[])[0]={owner:this,handler:t,context:null}}})),r[i]={name:n,type:"event",meta:e,descriptor:_},s},defineProperty:function(t,e,n){var r,i,s,_,o=u.fixTargetCtor(t),a=u.fixTargetKey(e),h=a in o;return _="value"in n?(r=n.value,i="_"+e,s=n.get||function(){return i in this?this[i]:l.is(r,"function")?r.call(this):r},n.readonly?function(t,e){if(!e||!e.force)return!1;this[i]=t}:n.set||function(t){this[i]=t}):(s=n.get||function(){},n.set||function(){return!1}),h&&(s.__super__=o[a].getter,_.__super__=o[a].setter),t=Object.defineProperty(t,e,{get:s,set:_,configurable:!0}),o[a]={name:e,type:"property",meta:n,getter:s,setter:_,descriptor:t},h},defineMethod:function(t,e,n){var r=u.fixTargetCtor(t),i=u.fixTargetKey(e),s=i in r;return r[i]={name:e,type:"method",meta:n},e in t&&(n.value||(n.value=function(){}),n.value.__super__=t[e]),t[e]=n.value,s}},s={__handlers__:{},member:function(t,e){var e=u.fixTargetCtor(e||this),n=e[u.fixTargetKey(t)];return n||e===p?n:this.member(t,e._super_)},may:function(t){t=this.member(t);return t&&"event"==t.type},has:function(t){t=this.member(t);return t&&"property"==t.type},can:function(t){t=this.member(t);return t&&"method"==t.type},get:function(t,e){t=this.member(t);if(t&&t.getter)return t.getter.call(this,e)},set:function(t,e,n){t=this.member(t);return t&&t.setter&&t.setter.call(this,e,n),this},gets:function(e){var n={},t=u.fixTargetCtor(this)._properties_;return l.each(t,function(t){n[t]=this.get(t,e)},this),n},sets:function(t,e,n){if(t){var r,i;for(i in t)t.hasOwnProperty(i)&&(r=t[i],!1!==(n&&n(r,i,e)))&&this.set(i,r,e)}return this},each:function(t,e){for(var n=u.fixTargetCtor(this)._properties_,r=0,i=n.length;r<i;r++){var s=n[r],s=t.call(e,s,r,this.member(s),this.get(s));if(!1===s)return!1}return this},__may__:function(t){return this.may(t)},__has__:function(t){return this.has(t)},__can__:function(t){return this.can(t)},__get__:function(t){return this.get(t)},__gets__:function(){return this.gets()},__set__:function(t,e){this.set(t,e)},__sets__:function(t){this.sets(t)},__each__:function(t,e){return this.each(t,e)}},a={toJson:function(){return{ClassName:this._name_||"Anonymous",ClassID:this._id_}},info:function(){return{_id_:this._id_,_name_:this._name_,_super_:this._super_,_events_:this._events_,_properties_:this._properties_,_methods_:this._methods_,_meta_:this._meta_}},createSelf:function(){return this.__ctor__.apply(this,Array.prototype.slice.call(arguments))},createInstance:function(){return this.__ctor__.apply(this,Array.prototype.slice.call(arguments))},getProperties:function(r,i,t){var e,s={},_=t||{};return this.getMeta&&"ZNObject"!=this._name_&&(t=this._super_,e=this._mixins_,t&&l.extend(s,t.getProperties(r,i,_)),e&&e.length&&l.each(e,function(t){t&&l.extend(s,t.getProperties(r,i,_))}),l.each(this.getMeta("props")||this.getMeta("properties"),function(t,e){if(_[e])return-1;_[e]=t;var n=r&&r.call(i||this,t,e,s);if(!1===n||-1===n)return n;t.hidden||(s[e]=t)},this)),s},getProperty:function(n){var r=null;return n&&this.getProperties(function(t,e){return n==e&&(r=field),-1}),r},existProperty:function(t){return!!this.getProperty(t)},getMeta:function(t){return t?this._meta_[t]:this._meta_},setMeta:function(t,e){return t&&e&&(this._meta_[t]=e),this},defineEvent:function(t,e,n){return u.defineEvent(n||this.prototype,t,e)||(-1===this._meta_.events.indexOf(t)&&this._meta_.events.push(t),-1===this._events_.indexOf(t)&&this._events_.push(t)),this},defineProperty:function(t,e,n){return u.defineProperty(n||this.prototype,t,e)||(this._meta_.properties[t]||(this._meta_.properties[t]=e),-1===this._properties_.indexOf(t)&&this._properties_.push(t)),this},defineMethod:function(t,e,n){return u.defineMethod(n||this.prototype,t,e)||(this._meta_.methods[t]||(this._meta_.methods[t]=e),-1===this._methods_.indexOf(t)&&this._methods_.push(t)),this}},h={toString:function(){var t={ClassName:this.__name__||"Anonymous",InstanceID:this.__id__,Meta:this.constructor._meta_};return JSON.stringify(t)},toJson:function(){var n={};return l.each(this.constructor.getProperties(),function(t,e){n[e]=this.get(e)},this),n},getProperties:function(){return this.constructor.getProperties.apply(this,arguments)},getPropertie:function(t){return this.constructor.getPropertie(t)},upon:function(t,e,n){var r;return e&&(((r=this.__handlers__)[t]=r[t]||[])[0]=l.extend({owner:this,handler:e},n)),this},on:function(t,e,n){var r;return e&&(r=(r=this.__handlers__)[t]=r[t]||[{owner:null,handler:null,context:null}]).push&&"function"==typeof r.push&&r.push(l.extend({owner:this,handler:e},n)),this},hasEventHandler:function(t){return!!(this.__handlers__[t]||[]).length},off:function(t,e,n){var r,i=this.__handlers__[t]||[],s=n&&n.context;if(e)for(var _=i.length-1;0<=_;_--)(r=i[_]).handler!==e||s&&r.context!==s||this.__handlers__[t].splice(_,1);else this.__handlers__[t]=[{owner:null,handler:null,context:null}];return this},offs:function(t){var e=Array.prototype.slice.call(arguments);return e.length?l.each(e,function(t){this.__handlers__[t]&&(this.__handlers__[t]=[{owner:null,handler:null,context:null}])}.bind(this)):this.__handlers__={},this},fire:function(t,e,n){var r,i=this.__handlers__[t],s=null,_=null;if(i)for(var o=0,a=i.length;o<a;o++)if((r=i[o])&&r.handler){if(!1===(_=n&&"apply"==n.method?(n.ownerFirst&&(e=Array.from(e)).unshift(r.owner),r.handler.apply(r.context||r.owner,e)):r.handler.call(r.context||r.owner,r.owner,e,n)))return!1;if(-1!==_)if(n&&n.overwrite)s=_;else if(null!=_)return _}return s},fireApply:function(){var t=o.call(arguments),e=t.shift();if(!e)return this;var n,r=this.__handlers__[e];if(r)for(var i=0,s=r.length;i<s;i++)if((n=r[i])&&n.handler){if(!1===(n=n.handler.apply(n.context||n.owner,t)))return!1;if(-1!==n&&null!=n)return n}return null},dispose:function(){for(var n in this.__id__=null,delete this.__id__,this.__handlers__)this.__handlers__[n]=null,this.__handlers__[n]&&this.__handlers__[n].length&&this.__handlers__[n].forEach(function(t,e){this.__handlers__[n][e]=null,delete this.__handlers__[n][e]}),delete this.__handlers__[n];this.__handlers__=null,delete this.__handlers__,this.__initializing__=null,delete this.__initializing__,this.__super__=null,delete this.__super__,this.__afters__=null,delete this.__afters__},destroy:function(){this.dispose()},super:function(){var t=this.super.caller.__super__;if(t)return t.apply(this,arguments)},is:function(t){if(t="string"==typeof t?l.path(_,t):t){if(this instanceof t)return!0;for(var e=this.constructor._mixins_,n=0,r=e.length;n<r;n++)if(t===e[n])return!0}return!1},__is__:function(t){return this.is(t)},__clone__:function(){}};function p(){}l.extend(p,s,a,{_id_:0,_name_:"ZNObject",_statics_:{},_events_:[],_properties_:[],_methods_:[],_mixins_:[],_meta_:{}}),l.extend(p.prototype,s,h),l.isZNObject=function(t){return t instanceof p},l.isZNFunction=function(t){return"function"==typeof t&&new t instanceof p};var d={_arguments:function(){var t,e,n,r=arguments,i=r.length,s=r[0];if(3===i){if(t=s,n=r[2],!l.is(e=r[1],"function"))throw new Error("Invalid _super class.")}else if(2===i){if(l.is(s,"string"))t=s,e=null;else{if(!l.is(s,"function"))throw new Error("Invalid _super class.");t=null,e=s}n=r[1]}else{if(1!==i)throw new Error("Invalid arguments.");if(e=t=null,!l.is(n=s,"object"))throw new Error("The meta argument must be an object.")}return{name:t=t||"",super:e=e||p,meta:n=l.overwrite(n||{},{static:!1,statics:[],partial:!1,abstract:!1,final:!1,mixins:[],events:[],properties:[],methods:[]})}},_meta:function(n,t){var e=t.name,r=t.super,t=t.meta;return l.extend(n,s,a,{_id_:i++,_name_:e,_super_:r,_partial_:t.partial,_abstract_:t.abstract,_static_:t.static,_final_:t.final,_statics_:l.extend({},r._statics_,t.statics),_events_:r._events_.slice(0),_properties_:r._properties_.slice(0),_methods_:r._methods_.slice(0),_mixins_:r._mixins_.concat(t.mixins),_meta_:t}),l.extend(n,n._statics_),t.static?(l.each(t.events,function(t){n.defineEvent(t,{},n)}),l.each(t.properties,function(t,e){n.defineProperty(e,l.is(t,"object")?t:{value:t},n)}),l.each(t.methods,function(t,e){n.defineMethod(e,l.is(t,"function")?{value:t}:t,n)}),t.methods.init&&t.methods.init.call(n,n)):(l.each(t.mixins,function(t){var e;t&&(e=t.prototype,l.each(t._events_,function(t){n.defineEvent(t,e.member(t).meta)}),l.each(t._properties_,function(t){n.defineProperty(t,e.member(t).meta)}),l.each(t._methods_,function(t){s[t]||h[t]||n.defineMethod(t,e.member(t).meta)}))}),l.each(t.events,function(t){n.defineEvent(t,{})}),l.each(t.properties,function(t,e){n.defineProperty(e,l.is(t,"object")?t:{value:t})}),l.each(t.methods,function(t,e){n.defineMethod(e,l.is(t,"function")?{value:t}:t)})),n}},m=function(t,e,n){var r,i,s;if(t&&t!==p)return r=t.member("init"),i=t._mixins_,s=null,r&&r.meta.after&&e.__afters__.push({context:e,handler:r.meta.after}),i.length&&l.each(i,function(t){t&&t["@init"]&&(s=t["@init"].meta,s=l.is(s,"function")?s:s.value,m(t.prototype.__super__,t.prototype,n),s)&&s.call(e)}),r&&r.meta.auto&&r.meta.value.apply(e,n),arguments.callee(t._super_,e)};l.Class=function(){var c,t,e=d._arguments.apply(this,arguments),n=e.name,r=e.super,i=e.meta,s=i.methods.init;if(i.properties=i.properties||i.props,i.props=null,delete i.props,r._static_)throw new Error("Static class cannot be inherited.");if(r._final_)throw new Error("Final class cannot be inherited.");if(n&&i.partial&&(c=l.path(_,n)),i.static){if(c){if(!c._static_)throw new Error('Partial class "'+n+'" must be static.')}else c=function(){throw new Error("Cannot instantiate static class.")};t=c.prototype}else{if(c){if(c._static_)throw new Error('Partial class "'+n+'" must not be static.');if(c._super_!==r&&c._super_!==p)throw new Error('Partial class "'+n+'" must have consistent super class.')}else((c=i.abstract?function(){throw new Error("Cannot instantiate abstract class.")}:function(){for(var t,e=c._mixins_||[],n=c._ctors_||[],r=null,i=arguments,s=(this.__id__=f++,this.__handlers__={},this.__initializing__=!0,this.__afters__=[],null),_=0,o=e.length;_<o;_++)(t=e[_])&&(t["@init"]?(s=t["@init"].meta,s=l.is(s,"function")?s:s.value,m(t.prototype.__super__,this,i),s&&s.call(this)):m(t.prototype.__super__,this,i));m(this.__super__,this,i);for(var a=0,h=n.length;a<h;a++)r=n[a],(r=l.is(r,"function")?r:r.value)&&r.apply(this,i);for(;0<this.__afters__.length;){var u=this.__afters__.pop();u.handler.apply(u.context,i)}this.__afters__=null,delete this.__afters__,this.__initializing__=!1}).__ctor__=c)._ctors_=[];c._super_!==r?((i=function(){}).prototype=r.prototype,(t=new i).constructor=c,t.__type__=n||"Anonymous(ZNClass)",t.__super__=r,c.prototype=t):t=c.prototype,t.class=t.constructor,s&&(c._ctors_.push(s),t.__ctor__||(t.__ctor__=s))}return d._meta(c,e),t.__define__&&t.__define__.call(c),n&&l.path(_,n,c),c}})(zn);
(n=>{var r=Array.prototype.slice,t=(Object.prototype.hasOwnProperty,Object.prototype.toString,{format:function(){var t=arguments,r=this;return 1==t.length&&"object"==typeof t[0]&&(t=t[0]),n.each(t,function(t,e){null!=t&&(t="object"==n.type(t)?JSON.stringify(t):t.toString?t.toString():t,r=(r=r.replace(/%/g,"%25")).replace(new RegExp("\\{"+e+"\\}","gi"),encodeURIComponent(t)),r=decodeURIComponent(r))}),r.toString()},firstUpperCase:function(t){return t.replace(/\b(\w)(\w*)/g,function(t,e,r){return e.toUpperCase()+r})}}),e={format:function(t,e){e="\\d(?=(\\d{"+(e||3)+"})+"+(0<t?"\\.":"$")+")";return this.toFixed(Math.max(0,~~t)).replace(new RegExp(e,"g"),"$&,")},sectionThree:function(){return this.toString().replace(/(\d)(?=(\d{3})+\.)/g,"$1,")},price:function(t){t=n.extend({unit:1e4,unitText:"万",prefix:"",decimal:2,sections:3},t);return 1<this/t.unit&&this%100==0?(this/t.unit).sectionThree()+t.unitText:this.format(t.decimal,t.sections)}},i={bind:function(t){var e=this;return function(){return e.apply(t,r.call(arguments,1))}}},o={format:function(t){var e,r={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(e in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?r[e]:("00"+r[e]).substr((""+r[e]).length)));return t}};n.fix(Array,{isArray:function(t){return t&&"[object Array]"===n.toString(t)&&t.constructor===Array}}),n.fix(Array.prototype,{forEach:function(t,e){if(!t)return!1;for(var r=0,n=this.length;r<n;r++)t.call(e,this[r],r);return this},indexOf:function(t){for(var e=0,r=this.length;e<r;e++)if(this[e]===t)return e;return-1},lastIndexOf:function(t){for(var e=this.length-1;0<=e;e--)if(this[e]===t)return e;return-1}}),n.fix(Function.prototype,i),n.fix(String.prototype,t),n.fix(Number.prototype,e),n.fix(Date.prototype,o)})(zn);